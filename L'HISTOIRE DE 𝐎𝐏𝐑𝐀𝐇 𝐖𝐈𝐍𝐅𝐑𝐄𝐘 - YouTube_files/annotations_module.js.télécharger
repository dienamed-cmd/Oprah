(function(g){var window=this;'use strict';var L6=function(d){d.publish("cardstatechange",d.FV()&&d.yU()?1:0)},If=function(d,L){var I=g.pn(L);
const v=I?L:arguments;for(I=I?0:1;I<v.length;I++){if(d==null)return;d=d[v[I]]}return d},ycw=function(d){const L=g.MP(d);
d=g.Xt(d);return new g.CO(L.x,L.y,d.width,d.height)},rcw=function(d,L,I){let v;
return v=g.LX(d,L,function(){g.Iw(v);I.apply(d,arguments)},{})},Rf=function(d){d=g.ud(d);
delete vu[d];g.Un(vu)&&F6&&F6.stop()},K$$=function(){F6||(F6=new g.Rk(function(){kVQ()},20));
const d=F6;d.isActive()||d.start()},kVQ=function(){var d=g.E$();
g.GV(vu,function(L){e98(L,d)});
g.Un(vu)||K$$()},DZ=function(d,L,I,v){g.Wd.call(this);
if(!Array.isArray(d)||!Array.isArray(L))throw Error("Start and end parameters must be arrays");if(d.length!=L.length)throw Error("Start and end points must be the same length");this.W=d;this.B=L;this.duration=I;this.L=v;this.coords=[];this.progress=this.K=0;this.N=null},e98=function(d,L){L<d.startTime&&(d.endTime=L+d.endTime-d.startTime,d.startTime=L);
d.progress=(L-d.startTime)/(d.endTime-d.startTime);d.progress>1&&(d.progress=1);d.K=1E3/(L-d.N);d.N=L;W$$(d,d.progress);d.progress==1?(d.O=0,Rf(d),d.onFinish(),d.LL()):d.isPlaying()&&d.b2()},W$$=function(d,L){typeof d.L==="function"&&(L=d.L(L));
d.coords=Array(d.W.length);for(let I=0;I<d.W.length;I++)d.coords[I]=(d.B[I]-d.W[I])*L+d.W[I]},aHU=function(d,L){g.j2.call(this,d);
this.coords=L.coords;this.x=L.coords[0];this.y=L.coords[1];this.z=L.coords[2];this.duration=L.duration;this.progress=L.progress;this.fps=L.K;this.state=L.O},Oo=function(d,L,I,v,F){DZ.call(this,L,I,v,F);
this.element=d},be=function(d,L,I,v,F){if(L.length!=2||I.length!=2)throw Error("Start and end points must be 2D");
Oo.call(this,d,L,I,v,F)},BjU=function(d){return Math.pow(d,3)},jbw=function(d){return 3*d*d-2*d*d*d},Hu=function(d){return d.baseUrl||null},n6=function(d,L){return g.ZN(g.N7(d,L),I=>!!I)},tUQ=function(d,L,I){function v(BB){var s$=BB.hovercardButton;
if(!s$)return null;s$=s$.subscribeButtonRenderer;if(!s$)return null;const fn=R(s$.unsubscribedButtonText),mX=R(s$.subscribedButtonText);let q7,RL;s$.subscribed?(q7=R(s$.subscriberCountWithUnsubscribeText),RL=R(s$.subscriberCountText)):(q7=R(s$.subscriberCountText),RL=R(s$.subscriberCountWithSubscribeText));let qz=null;return BB.signinEndpoint&&((qz=If(BB,"signinEndpoint","webNavigationEndpointData","url"))||(qz=g.U(s$.signInEndpoint?.commandMetadata,g.RH)?.url),!qz)?null:fn&&(mX||qz)?{subscribed:s$.subscribed,
subscribeText:fn,subscribeCount:q7,unsubscribeText:mX,unsubscribeCount:RL,enabled:s$.enabled,signinUrl:qz,classic:BB.useClassicSubscribeButton}:null}
function F(BB){if(BB){var s$=[],fn=BB.videoId;fn&&s$.push("v="+fn);(fn=BB.playlistId)&&s$.push("list="+fn);(BB=BB.startTimeSeconds)&&s$.push("t="+BB);return"/watch?"+s$.join("&")}}
function R(BB){if(!BB)return null;const s$=BB.simpleText;return s$?s$:BB.runs?g.N7(BB.runs,fn=>fn.text).join(""):null}
L=L.endscreenElementRenderer;if(!L)return null;const D=L.style,O=L.endpoint||{};let b=null;var H=null,n=!1;let y=null,r=null,k=null,W=null;var P=!1;let z=null,w=null;var E=null;let C=null,S=null,Ri=null;if(D==="VIDEO")g.U(O,g.ih)?b=g.U(O,g.ih).url:(Ri=g.U(O,g.vg),b=F(Ri)),H=!1,y=d,L.thumbnailOverlays?(n=L.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,r=R(n.text),n=n.style==="LIVE"):r=R(L.videoDuration);else if(D==="PLAYLIST")g.U(O,g.ih)?b=g.U(O,g.ih).url:(Ri=g.U(O,g.vg),b=F(Ri)),H=!1,y=
d,k=R(L.playlistLength);else if(D==="CHANNEL"){if(P=If(O,"browseEndpoint","browseId"))W=P,b=`/channel/${W}`;H=!1;y="new";(P=!!L.isSubscribe)?z=v(L):w=R(L.subscribersText)}else D==="WEBSITE"?((E=If(O,"urlEndpoint","url"))&&(b=E),H=!0,y="new",E=L.icon.thumbnails[0].url):D==="CREATOR_MERCHANDISE"&&(L.productPrice&&(C=R(L.productPrice)),L.additionalFeesText&&(S=R(L.additionalFeesText)),(H=If(O,"urlEndpoint","url"))&&(b=H),H=!0,y="new");d=If(L,"title","accessibility","accessibilityData","label");const O$=
L.endpoint?L.endpoint.clickTrackingParams:null;let U$="";if(L.metadata){const BB=R(L.metadata);BB&&(U$=BB)}return{id:`element-${I}`,type:D,title:R(L.title),metadata:U$,callToAction:R(L.callToAction),DI:L.image,iconUrl:E,left:Number(L.left),width:Number(L.width),top:Number(L.top),aspectRatio:Number(L.aspectRatio),startMs:Math.floor(Number(L.startMs)),endMs:Math.floor(Number(L.endMs)),videoDuration:r,Rw:n,playlistLength:k,channelId:W,subscribeButton:z,subscribersText:w,isSubscribe:P,targetUrl:b||null,
xO:H,sessionData:O$?{itct:O$}:null,EV:y,vT:d?d:null,isPlaceholder:L.isPlaceholder,impressionUrls:n6(L.impressionUrls||[],Hu),mu:n6(L.hovercardShowUrls||[],Hu),clickUrls:n6(O.loggingUrls||[],Hu),visualElement:g.jS(L.trackingParams),productPrice:C,additionalFeesText:S,watchEndpoint:Ri||null}},of=function(d,L){const I={startMs:Math.floor(Number(d.startMs)),
impressionUrls:n6(d.impressionUrls||[],Hu),elements:n6(d.elements||[],(v,F)=>tUQ(L,v,F))};
d.trackingParams&&(I.visualElement=g.jS(d.trackingParams));return I},yM=function(d){return d.player.V().playerStyle==="creator-endscreen-editor"},Ac1=function(d){return d.player.getVideoData().FI?"current":d.U?"new":"current"},ra=function(d,L,I=!0){d.player.Ba("creatorendscreen");
d.G&&(d.G.dispose(),d.G=null,d.L.dispose(),d.L=null);for(var v of Object.values(d.W))v.dispose();d.W={};d.K={};d.j.length>0&&(d.j.forEach(F=>{F.dispose()}),d.j.length=0);
d.O&&(g.kK(d.O,"ytp-ce-element-show"),d.O.setAttribute("aria-hidden","true"));d.B=0;if((d.endscreen=L)&&L.elements){I&&p1x(d);I=[];v=new g.GO(L.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});I.push(v);d.player.V().W||(d.G=new g.f({S:"div",Y:"ytp-ce-shadow"}),g.KH(d.player,d.G.element,4),d.L=new g.G2(d.G,200));for(v=0;v<L.elements.length;++v){const F=L.elements[v],R=PLj(d,F);if(!R){g.mG(new g.lQ("buildEndscreenElement null",F));continue}d.W[F.id]=R;d.K[F.id]=F;g.KH(d.player,
R.element,4);const D=new g.GO(F.startMs,F.endMs,{id:"ytp-ce-element-"+F.id,namespace:"creatorendscreen"});I.push(D);GVx(d,R,F)}d.player.sH(I);d.H5()}},uQQ=function(d){var L=d.player.getVideoData(),I=L.videoId;
d.N&&d.N.abort();I={method:"POST",onFinish:F=>{var R=d.N=null;F.status===200&&(F=F.responseText,F.substring(0,3)===")]}"&&(F=F.substring(3),R=JSON.parse(F),R=of(R,Ac1(d))));ra(d,R)},
urlParams:{v:I},withCredentials:!0};d.U&&(I.urlParams.ptype="embedded");const v=L.wq;v&&(I.postParams={ad_tracking:v});if(L=g.Ez0(L))if(L=g.qG(L),L=g.Yu(L))d.N=g.Lq(L,I)},p1x=function(d){const L=g.pL(),I=g.Pf();
I&&L&&d.endscreen.visualElement&&g.jh(g.QX)(void 0,I,L,d.endscreen.visualElement)},PLj=function(d,L){var I=null;
switch(L.type){case "VIDEO":d={S:"div",RL:["ytp-ce-element","ytp-ce-video"],D:{tabindex:"0","aria-label":L.vT||"","aria-hidden":"true"},J:[{S:"div",Y:"ytp-ce-element-shadow"},{S:"div",Y:"ytp-ce-covering-image",D:k0(L)},{S:"div",Y:"ytp-ce-covering-shadow-top"},{S:"a",Y:"ytp-ce-covering-overlay",D:{href:K6(d,L.targetUrl),tabindex:"-1"},J:[{S:"div",RL:["ytp-ce-video-title","ytp-webkit-ellipsis"],D:{dir:g.Gf(L.title||"")},Py:L.title},{S:"div",Y:L.Rw?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
Py:L.videoDuration||void 0}]}]};I=new g.f(d);break;case "PLAYLIST":d={S:"div",RL:["ytp-ce-element","ytp-ce-playlist"],D:{tabindex:"0","aria-label":L.vT||"","aria-hidden":"true"},J:[{S:"div",Y:"ytp-ce-element-shadow"},{S:"div",Y:"ytp-ce-covering-image",D:k0(L)},{S:"div",Y:"ytp-ce-covering-shadow-top"},{S:"a",Y:"ytp-ce-covering-overlay",D:{href:K6(d,L.targetUrl),tabindex:"-1"},J:[{S:"div",RL:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],D:{dir:g.Gf(L.title||"")},Py:L.title},{S:"div",Y:"ytp-ce-playlist-count",
J:[{S:"div",Y:"ytp-ce-playlist-icon"},{S:"div",Y:"ytp-ce-playlist-count-text",Py:L.playlistLength||void 0}]}]}]};I=new g.f(d);break;case "CHANNEL":I={S:"div",RL:["ytp-ce-element","ytp-ce-channel",L.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],D:{tabindex:"0","aria-label":L.vT||"","aria-hidden":"true"},J:[{S:"div",Y:"ytp-ce-element-shadow"},{S:"div",Y:"ytp-ce-expanding-overlay",J:[{S:"div",Y:"ytp-ce-expanding-overlay-hider"},{S:"div",Y:"ytp-ce-expanding-overlay-background"},{S:"div",Y:"ytp-ce-expanding-overlay-content",
J:[{S:"div",Y:"ytp-ce-expanding-overlay-body",J:[{S:"div",Y:"ytp-ce-expanding-overlay-body-padding",J:[{S:"a",RL:["ytp-ce-channel-title","ytp-ce-link"],D:{href:K6(d,L.targetUrl),target:"_blank",tabindex:"-1",dir:g.Gf(L.title||"")},Py:L.title},L.subscribeButton?{S:"div",Y:"ytp-ce-subscribe-container",J:[{S:"div",Y:"ytp-ce-channel-subscribe"}]}:"",L.subscribersText?{S:"div",Y:"ytp-ce-channel-subscribers-text",Py:L.subscribersText}:"",L.metadata?{S:"div",RL:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],Py:L.metadata}:""]}]}]}]},{S:"div",Y:"ytp-ce-expanding-image",D:k0(L)}]};I=new g.f(I);const F=g.Tq(document,"div","ytp-ce-channel-subscribe",I.element)[0];if(L.subscribeButton&&L.channelId){g.yH(F,"ytp-ce-subscribe-button");let R;if(d.player.V().W){var v=null;R=L.sessionData.itct}else v="endscreen",R=null;v=new g.Xs(L.subscribeButton.subscribeText,L.subscribeButton.subscribeCount,L.subscribeButton.unsubscribeText,L.subscribeButton.unsubscribeCount,!!L.subscribeButton.enabled,!!L.subscribeButton.classic,
L.channelId,!!L.subscribeButton.subscribed,v,R,d.player,!1);F.appendChild(v.element);d.j.push(v)}break;case "WEBSITE":d={S:"div",RL:["ytp-ce-element","ytp-ce-website"],D:{tabindex:"0","aria-label":L.vT||"","aria-hidden":"true"},J:[{S:"div",Y:"ytp-ce-element-shadow"},{S:"div",Y:"ytp-ce-expanding-overlay",J:[{S:"div",Y:"ytp-ce-expanding-overlay-hider"},{S:"div",Y:"ytp-ce-expanding-overlay-background"},{S:"div",Y:"ytp-ce-expanding-overlay-content",J:[{S:"div",Y:"ytp-ce-expanding-overlay-body",J:[{S:"div",
Y:"ytp-ce-expanding-overlay-body-padding",J:[{S:"div",Y:"ytp-ce-website-title",D:{dir:g.Gf(L.title||"")},Py:L.title},{S:"div",Y:"ytp-ce-website-metadata",Py:L.metadata},{S:"a",RL:["ytp-ce-website-goto","ytp-ce-link"],D:{href:K6(d,L.targetUrl),target:"_blank",tabindex:"-1"},Py:L.callToAction}]}]}]}]},{S:"div",Y:"ytp-ce-expanding-image",D:k0(L)},{S:"div",Y:"ytp-ce-expanding-icon",D:mx$(L.iconUrl)}]};I=new g.f(d);break;case "CREATOR_MERCHANDISE":I="",L.productPrice&&(I={S:"div",Y:"ytp-ce-merchandise-price-container",
J:[{S:"div",Y:"ytp-ce-merchandise-price",Py:L.productPrice}]},L.additionalFeesText&&I.J.push({S:"div",Y:"ytp-ce-merchandise-additional-fees",Py:L.additionalFeesText})),d={S:"div",RL:["ytp-ce-element","ytp-ce-merchandise"],D:{tabindex:"0","aria-label":L.vT||"","aria-hidden":"true"},J:[{S:"div",Y:"ytp-ce-element-shadow"},{S:"div",Y:"ytp-ce-expanding-overlay",J:[{S:"div",Y:"ytp-ce-expanding-overlay-hider"},{S:"div",Y:"ytp-ce-expanding-overlay-background"},{S:"div",Y:"ytp-ce-expanding-overlay-content",
J:[{S:"div",Y:"ytp-ce-expanding-overlay-body",J:[{S:"div",Y:"ytp-ce-expanding-overlay-body-padding",J:[{S:"div",Y:"ytp-ce-merchandise-title",D:{dir:g.Gf(L.title||"")},Py:L.title},I,{S:"div",Y:"ytp-ce-merchandise-metadata",Py:L.metadata},{S:"a",RL:["ytp-ce-merchandise-goto","ytp-ce-link"],D:{href:K6(d,L.targetUrl),target:"_blank",tabindex:"-1"},Py:L.callToAction}]}]}]}]},{S:"div",Y:"ytp-ce-expanding-image",D:k0(L)},{S:"div",Y:"ytp-ce-merchandise-invideo-cta-container",J:[{S:"div",Y:"ytp-ce-merchandise-invideo-cta",
Py:L.callToAction||void 0}]}]},I=new g.f(d)}L.isPlaceholder&&g.yH(I.element,"ytp-ce-placeholder");return I},GVx=function(d,L,I){function v(){D(1)}
function F(){D(-1)}
L.listen("mouseenter",()=>{ei(d,L,I)});
L.listen("mouseleave",()=>{Wu(d,L,I)});
d.player.V().W||L.listen("click",()=>{g.yH(L.element,"ytp-ce-element-hover")});
L.listen("click",O=>{z9Q(d,I,O)});
L.listen("keypress",O=>{z9Q(d,I,O)});
L.listen("focus",()=>{ei(d,L,I)});
L.listen("blur",()=>{Wu(d,L,I)});
L.listen("touchstart",()=>{ei(d,L,I)});
var R=g.g3("ytp-ce-expanding-overlay-hider",L.element);R&&L.A(R,"touchstart",O=>{O.stopPropagation();g.kK(L.element,"ytp-ce-element-hover");g.kK(L.element,"ytp-ce-force-expand")});
L.listen("keydown",O=>{d.md=O.keyCode===9&&!O.shiftKey});
const D=O=>{d.B+=O;d.B>0?(g.yH(L.element,"ytp-ce-force-expand"),af(d,I.id,!0)):(g.kK(L.element,"ytp-ce-force-expand"),g.kK(L.element,"ytp-ce-element-hover"),af(d,I.id,!1))};
R=O=>{O&&(L.listen("blur",()=>{O.style.display!="none"&&d.md&&O.focus()}),L.A(O,"focus",v),L.A(O,"blur",F))};
R(g.g3("ytp-sb-subscribe",L.element));R(g.g3("ytp-sb-unsubscribe",L.element));L.listen("focus",v);L.listen("blur",F)},Bu=function(d,L,I){function v(){R||(F++,F===L.length&&(D.stop(),I&&I()))}
if(!L||L.length===0||yM(d))I&&I();else{L=EwV(d,L);var F=0,R=!1,D=new g.Rk(()=>{R=!0;I&&I()},1E3,d);
D.start();for(d=0;d<L.length;d++)g.Vo(L[d],v)}},k0=function(d){let L;
d.DI&&(L=d.DI.thumbnails);return mx$(L?L[L.length-1].url:null)},K6=function(d,L){d=d.player.V();
if(L){if(L.startsWith("//"))return d.protocol+":"+L;if(L.startsWith("/"))return g.Wi(d)+L}else return"";return L},mx$=function(d){return d?{style:"background-image: url("+d+")"}:{}},ei=function(d,L,I){g.ok(L.element,"ytp-ce-element-hover")||(I.type==="VIDEO"||I.type==="PLAYLIST"?g.yH(L.element,"ytp-ce-element-hover"):d.player.V().W?(new g.Rk(()=>{g.yH(L.element,"ytp-ce-element-hover")},200)).start():g.yH(L.element,"ytp-ce-element-hover"),Bu(d,I.mu),af(d,I.id,!0))},Wu=function(d,L,I){g.kK(L.element,
"ytp-ce-element-hover");
g.kK(L.element,"ytp-ce-force-expand");af(d,I.id,!1)},z9Q=function(d,L,I){if(L.targetUrl&&(!I||I.type!=="keypress"||I.keyCode===13)){for(var v=I.target;v&&!g.ok(v,"ytp-ce-element");){g.ok(v,"subscribe-label")&&ji(d,L);
if(g.ok(v,"ytp-ce-channel-subscribe"))return;v=v.parentElement||null}if(!v||g.ok(v,"ytp-ce-element-hover")){I.preventDefault();I.stopPropagation();if(v=d.W[L.id])Wu(d,v,L),v.element.blur();if(I.ctrlKey||I.metaKey||L.EV==="new")ji(d,L),d.player.sendVideoStatsEngageEvent(17,void 0),d.player.pauseVideo(),I=g.qG(K6(d,L.targetUrl)),I=g.Yu(I),g.vE(I,void 0,L.sessionData);else{const F=g.EF(d.player.V())||d.player.getVideoData().FI,R=()=>{var D=K6(d,L.targetUrl),O=L.sessionData,b=L.watchEndpoint;const H=
g.m1(D);F&&H&&(H.v||H.list)?d.player.Vf(H.v,O,H.list,!1,void 0,b||void 0):g.I3(D,O)};
ji(d,L,()=>{d.player.sendVideoStatsEngageEvent(17,R)})}}}},af=function(d,L,I){d.G&&(I?d.L.show():d.L.hide());
for(const v of Object.keys(d.W))v!==L&&g.h(d.W[v].element,"ytp-ce-element-shadow-show",I)},ji=function(d,L,I){Bu(d,L.clickUrls,I);
(d=g.Pf())&&L.xO&&g.Rh(d,L.visualElement)},EwV=function(d,L){var I=d.player.getVideoData().clientPlaybackNonce;
d=d.player.getCurrentTime().toFixed(2);I={CPN:I,AD_CPN:I,MT:d};d=[];for(let v=0;v<L.length;v++)d.push(h9w(L[v],I));return d},h9w=function(d,L){return d.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,I=>{let v=unescape(I);
v=v.substring(1,v.length-1);return L[v]?escape(L[v]):I})},w1$=function(d){return typeof d==="string"?d:""},t2=function(d,L,I){for(const v in L)if(L[v]===d)return d;
return I},A2=function(d){if(!d)return null;
var L=g.qG(w1$(d.value));L=g.Yu(L);if(!L)return null;const I=t2(d.target,JcV,"current");if(I==null)d=null;else{var v=d.show_link_icon;d=new CLx(L,I,v==="true"||v==="false"?v==="true":!0,d.pause_on_navigation!=null?d.pause_on_navigation:!0)}return d},Yn9=function(d){if(!d)return null;
const L=t2(d.type,i8U),I=t2(d.trigger,$xQ);d=d.url;d=Array.isArray(d)&&d.length?d[0]:d;d=A2(d?d:null);return L?new xx$(L,I,d):null},Sn$=function(d,L){return g.g$(d.action,L)},p6=function(d,L){d="background-image: url("+d+");";
const I=[];L&&I.push(L);return{S:"div",Y:"iv-card-image",D:{style:d},J:I}},Gm=function(d){return d.customMessage?Pu("div","iv-card-message",d.customMessage):""},ue=function(d){if(!d.metaInfo||d.metaInfo.length===0)return"";
const L=[];for(const I of d.metaInfo)L.push(Pu("li","",I));return{S:"ul",Y:"iv-card-meta-info",J:L}},mk=function(d,L,I,v){if(v)for(const F of L)d.O(F,v,I.id,I.sessionData,I.gW.click,5)},Pu=function(d,L,I){L?typeof L==="string"?L={"class":L}:Array.isArray(L)&&(L={"class":L.join(" ")}):L={};
L.dir=g.Gf(I);return{S:d,D:L,Py:I}},Ux$=function(d){if(!d.customMessage)return"";
const L=["iv-card-action","iv-card-primary-link"],I={};d.qs&&(L.push("iv-card-action-icon"),I.style="background-image: url("+d.qs+");");I.dir=g.Gf(d.customMessage);const v=[{S:"span",Py:d.customMessage}];d.showLinkIcon&&(v.push("\u00a0"),v.push({S:"span",Y:"iv-card-link-icon"}));return{S:"div",RL:L,D:I,J:v}},sbj=function(d){var L;
(L=d)&&!(L=d.length>1?d.charAt(0)==="/"&&d.charAt(1)!=="/":d==="/")&&(L=d.replace(/^(https?:)?\/\//,"").split("/",1),L=!L||L.length<1||!L[0]?[]:L[0].toLowerCase().split(".").reverse(),L=L[0]==="com"&&L[1]==="youtube"||L[0]==="be"&&L[1]==="youtu");return L?d.indexOf("/redirect?")===-1:!1},qnc=function(d,L){return L?L:sbj(d)?"current":"new"},zm=function(d,L,I,v,F,R,D){d.context.O.listen(L,"click",O=>{d.M0(I,v,F,R||[],D||0,O)});
d.context.O.listen(L,"touchstart",()=>{d.ZH=!1});
d.context.O.listen(L,"touchmove",()=>{d.ZH=!0})},lHQ=function(d){if(g.U(d,g.ih)?.url)return g.U(d,g.ih).url;
if((d=g.U(d,g.vg))&&d.videoId){let L="/watch?v="+d.videoId;d.playlistId&&(L+="&list="+d.playlistId);d.index&&(L+="&index="+d.index);d.startTimeSeconds&&(L+="&t="+d.startTimeSeconds);return L}return null},Eo=function(d,L,I){return{O1:(d.impressionLoggingUrlsV2s||[]).map(v=>v.baseUrl||""),
click:(I.loggingUrls||[]).map(v=>v.baseUrl||""),
close:(L.dismissLoggingUrlsV2s||[]).map(v=>v.baseUrl||""),
t8:(L.impressionLoggingUrlsV2s||[]).map(v=>v.baseUrl||""),
uD:(L.clickLoggingUrlsV2s||[]).map(v=>v.baseUrl||"")}},C6=function(d,L){if(L.onClickCommand&&g.U(L.onClickCommand,g.U$r)?.targetId==="engagement-panel-error-corrections"){d.Z=L;
var I=!0}else I=!1;if(!I||Z8H(d,L))if(I=Nj8(d,L)){var v={M_:L,nN:I.element,JQ:!1};if(L.onClickCommand)d.X.C("web_infocards_teaser_show_logging_fix")&&(d.Px||Qbn(d),h2(d,L.id),I=d.findLastIndex(v),g.K8(d.cards,I,0,v));else{d.isInitialized||MUx(d);h2(d,L.id);const F=d.findLastIndex(v);g.K8(d.cards,F,0,v);I.g2(d.W,F);d.L1()}L.autoOpen?d.addCueRange(L.startMs,0x8000000000000,L.id,()=>{d.G||(d.O=v,wa(d),cc1(d,v),J2(d,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(I=d.context.X.getCurrentTime()*1E3,I<5E3&&I>L.startMs&&
VU$(d,v),d.addCueRange(L.startMs,L.startMs+1,L.id,()=>{VU$(d,v)}),wa(d))}},ie=function(d){d.G&&(d.IL.hide(),d.aL.W(),g.kK(d.context.X.getRootNode(),g.Tb.IV_DRAWER_OPEN),d.G=!1,L6(d.X),d.K&&d.K.stop(),d.K=new g.Rk(()=>{d.tU&&(d.tU.focus(),d.tU=null)},330),d.K.start())},fHV=function(d,L){L=L.data;
L.autoOpenMs&&d.addCueRange(L.autoOpenMs,0x8000000000000,"",()=>{J2(d,"YOUTUBE_DRAWER_AUTO_OPEN")});
L.autoCloseMs&&d.addCueRange(L.autoCloseMs,0x8000000000000,"",()=>{ie(d)});
const I=L.headerText;g.ep(d.Wx,I);d.L&&(d.X.C("player_tooltip_data_title_killswitch")?d.L.setAttribute("title",I):d.L.setAttribute("data-tooltip-title",I));L.eventId&&(d.eventId=L.eventId);d.Sj=g.jS(L.trackingParams);d.j=g.jS(L.closeTrackingParams);d.po=g.jS(L.iconTrackingParams)},$0=function(d,L,I){let v=-1,F=-1;
for(let R=0;R<d.length;R++){if(d[R].height===L||d[R].width===I)return d[R];((d[R].height||0)<L||(d[R].width||0)<I)&&(v<0||(d[v].height||0)<(d[R].height||0)||(d[v].width||0)<(d[R].width||0))?v=R:((d[R].height||0)>=L||(d[R].width||0)>=I)&&(F<0||(d[F].height||0)>(d[R].height||0)||(d[F].width||0)>(d[R].width||0))&&(F=R)}return d[F>=0?F:v]},x0=function(d,L,I,v){return{feature:I.feature?I.feature:"cards",
src_vid:d.context.videoData.videoId,annotation_id:L,ei:d.context.videoData.eventId||"",itct:v.trackingParams||""}},Tjb=function(d,L){const I=L.cardId?L.cardId:`cr:${d.B}`;
var v=d.X.V().experiments.iU("enable_error_corrections_infocard_web_client");if(!L.content&&L.teaser.simpleCardTeaserRenderer&&v){v=L.teaser.simpleCardTeaserRenderer;var F=L.icon?L.icon.infoCardIconRenderer:null;if(v.channelAvatar&&v.channelAvatar.thumbnails&&v.channelAvatar.thumbnails.length>0)var R=$0(v.channelAvatar.thumbnails,22,22).url;L={id:I,timestamp:d.B,type:"simple",teaserText:g.ro(v.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),
autoOpen:!!L.autoOpen,sessionData:{},sponsored:!1,gW:{},FT:null,pK:v.trackingParams?g.jS(v.trackingParams):null,po:F&&F.trackingParams?g.jS(F.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,qs:null,title:"",customMessage:"",url:null,onClickCommand:v.onTapCommand||null,XZ:R};C6(d,L)}else if(L.content?.simpleCardContentRenderer){if(!L.cueRanges.length)return;R=L.content?.simpleCardContentRenderer;v=L.teaser.simpleCardTeaserRenderer;F=L.icon?L.icon.infoCardIconRenderer:null;L={id:I,
timestamp:d.B,type:"simple",teaserText:g.ro(v.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:x0(d,I,L,R),sponsored:!1,gW:Eo(R,v,R.command),FT:R.trackingParams?g.jS(R.trackingParams):null,pK:v.trackingParams?g.jS(v.trackingParams):null,po:F&&F.trackingParams?g.jS(F.trackingParams):null,imageUrl:$0(R.image.thumbnails,290,290).url,displayDomain:R.displayDomain?g.ro(R.displayDomain):null,showLinkIcon:!!R.showLinkIcon,
qs:null,title:R.title?g.ro(R.title):"",customMessage:R.callToAction?g.ro(R.callToAction):"",url:g.U(R.command,g.ih).url?A2({pause_on_navigation:!d.context.videoData.isLivePlayback,target:"new",value:g.U(R.command,g.ih).url}):null,onClickCommand:null};C6(d,L)}else if(L.content?.collaboratorInfoCardContentRenderer){if(!L.cueRanges.length)return;R=L.content?.collaboratorInfoCardContentRenderer;v=L.teaser.simpleCardTeaserRenderer;F=L.icon?L.icon.infoCardIconRenderer:null;L={id:I,timestamp:d.B,type:"collaborator",
teaserText:g.ro(v.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:x0(d,I,L,R),sponsored:!1,gW:Eo(R,v,R.endpoint),FT:R.trackingParams?g.jS(R.trackingParams):null,pK:v.trackingParams?g.jS(v.trackingParams):null,po:F&&F.trackingParams?g.jS(F.trackingParams):null,channelId:g.U(R.endpoint,g.IE).browseId,customMessage:R.customText?g.ro(R.customText):null,profileImageUrl:$0(R.channelAvatar.thumbnails,290,
290).url,title:R.channelName?g.ro(R.channelName):"",metaInfo:[R.subscriberCountText?g.ro(R.subscriberCountText):""],url:A2({pause_on_navigation:!d.context.videoData.isLivePlayback,target:"new",value:g.U(R.endpoint,g.IE).canonicalBaseUrl?g.U(R.endpoint,g.IE).canonicalBaseUrl:`/channel/${g.U(R.endpoint,g.IE).browseId}`}),onClickCommand:null};C6(d,L)}else if(L.content?.playlistInfoCardContentRenderer){if(!L.cueRanges.length)return;R=L.content?.playlistInfoCardContentRenderer;v=L.teaser.simpleCardTeaserRenderer;
F=L.icon?L.icon.infoCardIconRenderer:null;L={id:I,timestamp:d.B,type:"playlist",teaserText:g.ro(v.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:x0(d,I,L,R),sponsored:!1,gW:Eo(R,v,R.action),FT:R.trackingParams?g.jS(R.trackingParams):null,pK:v.trackingParams?g.jS(v.trackingParams):null,po:F&&F.trackingParams?g.jS(F.trackingParams):null,Km:$0(R.playlistThumbnail.thumbnails,258,290).url,customMessage:R.customMessage?
g.ro(R.customMessage):null,playlistVideoCount:g.ro(R.playlistVideoCount),title:R.playlistTitle?g.ro(R.playlistTitle):"",metaInfo:[R.channelName?g.ro(R.channelName):"",R.videoCountText?g.ro(R.videoCountText):""],url:A2({pause_on_navigation:!d.context.videoData.isLivePlayback,target:"new",value:lHQ(R.action)}),onClickCommand:null};C6(d,L)}else if(L.content?.videoInfoCardContentRenderer){if(!L.cueRanges.length)return;R=L.content?.videoInfoCardContentRenderer;v=L.teaser.simpleCardTeaserRenderer;F=L.icon?
L.icon.infoCardIconRenderer:null;L={id:I,timestamp:d.B,type:"video",teaserText:g.ro(v.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:x0(d,I,L,R),sponsored:!1,gW:Eo(R,v,R.action),FT:R.trackingParams?g.jS(R.trackingParams):null,pK:v.trackingParams?g.jS(v.trackingParams):null,po:F&&F.trackingParams?g.jS(F.trackingParams):null,Km:$0(R.videoThumbnail.thumbnails,258,290).url,videoDuration:R.lengthString?
g.ro(R.lengthString):null,customMessage:R.customMessage?g.ro(R.customMessage):null,title:R.videoTitle?g.ro(R.videoTitle):"",metaInfo:[R.channelName?g.ro(R.channelName):"",R.viewCountText?g.ro(R.viewCountText):""],isLiveNow:!!R.badge,url:A2({pause_on_navigation:!d.context.videoData.isLivePlayback,target:"new",value:lHQ(R.action)}),onClickCommand:null};C6(d,L)}d.B++},gwU=function(d,L){return g.g$(d.cards,I=>I.M_.id===L)},wa=function(d){g.h(d.X.getRootNode(),"ytp-cards-shopping-active",X1x(d))},h2=function(d,
L){if(L=gwU(d,L))L===d.O&&(d.O=null),d.X.removeCueRange(L.M_.id),g.kW(L.nN),g.DH(d.cards,L),d.L1(),wa(d)},J2=function(d,L,I){if(!d.G){d.IL.show();
d.K1=new g.Rk(()=>{g.yH(d.context.X.getRootNode(),g.Tb.IV_DRAWER_OPEN)},0);
d.K1.start();d.aL.A(d.W,"mousewheel",F=>{d.sU.start();F.preventDefault();F=F||window.event;let R=0;F.type=="MozMousePixelScroll"?R=0==(F.axis==F.HORIZONTAL_AXIS)?F.detail:0:window.opera?R=F.detail:R=F.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?F.wheelDeltaY/-30:F.wheelDeltaY/-1.2:F.wheelDelta/-1.6:F.wheelDeltaY/-3;if(F=R)d.W.scrollTop+=F});
d.G=!0;var v=g.Pf();v&&d.Sj&&d.j&&g.vO(v,[d.Sj,d.j]);L={TRIGGER_TYPE:L};for(const F of d.cards)F.JQ||(F.JQ=!0,dG8(d.context.logger,F.M_.gW.O1,L)),v&&g.vO(v,[F.M_.FT]);L6(d.X);I&&(d.K=new g.Rk(()=>{d.tU=d.L;d.ej.focus()},330),d.K.start())}},MUx=function(d){g.rI(d.Ex(),[g.Tb.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.KH(d.X,d.N,5);d.Iy();d.L=g.g3("ytp-cards-button",d.X.getRootNode());d.ej=g.g3("iv-drawer-close-button",d.N);d.isInitialized=!0},Qbn=function(d){d.md.push(g.Hr("iv-teaser-shown",d.YF,d));
d.md.push(g.Hr("iv-teaser-hidden",d.La,d));d.md.push(g.Hr("iv-teaser-clicked",d.Sl,d));d.Px=!0},Z8H=function(d,L){d.Z=L;
var I=d.X.getVideoData();if(!I)return!1;I=g.U3(I);if(I?.markersMap)for(let F=0;I?.markersMap.length>F;F++){var v=I?.markersMap[F];if(v.key==="ERROR_CORRECTION_MARKERS"&&(v=v.value?.markers)&&v.length>0)return L.startMs=g.U(v[0],g.EEB)?.timeRangeStartMillis||0,d.Z=null,!0}return!1},Nj8=function(d,L){switch(L.type){case "simple":d=d.N0;
var I=L.displayDomain?{S:"div",Y:"iv-card-image-text",Py:L.displayDomain}:void 0;var v=Ux$(L);I={S:"div",RL:["iv-card"],J:[{S:"a",Y:"iv-click-target",D:{href:L.url?L.url.O()||"":""},J:[p6(L.imageUrl,I),{S:"div",Y:"iv-card-content",J:[Pu("h2",void 0,L.title),v]}]}]};I=new g.f(I);mk(d,g.f_("iv-click-target",I.element),L,L.url);L=I;break;case "collaborator":d=d.N0;I={S:"div",RL:["iv-card","iv-card-channel"],J:[{S:"a",RL:["iv-click-target"],D:{href:L.url.O()||"","data-ytid":L.channelId},J:[p6(L.profileImageUrl),
{S:"div",Y:"iv-card-content",J:[Gm(L),{S:"h2",Y:"iv-card-primary-link",Py:L.title},ue(L)]}]}]};I=new g.f(I);mk(d,g.f_("iv-click-target",I.element),L,L.url);L=I;break;case "playlist":d=d.N0;I={S:"div",RL:["iv-card","iv-card-playlist"],J:[{S:"a",Y:"iv-click-target",D:{href:L.url.O()||""},J:[p6(L.Km,{S:"div",Y:"iv-card-image-overlay",J:[{S:"span",Y:"iv-card-playlist-video-count",Py:L.playlistVideoCount}]}),{S:"div",Y:"iv-card-content",J:[Gm(L),Pu("h2","iv-card-primary-link",L.title),ue(L)]}]}]};I=new g.f(I);
mk(d,g.f_("iv-click-target",I.element),L,L.url);L=I;break;case "productListing":d=d.N0;var F=L.offers.length!=0;I=["iv-card"];v="";var R=Ux$(L);F&&(I.push("iv-card-product-listing"),v="iv-card-primary-link",R=L.offers[0],F=[],R.price&&F.push({S:"div",Y:"iv-card-offer-price",Py:R.price}),R.merchant&&F.push({S:"div",Y:"iv-card-offer-merchant",Py:R.merchant}),R={S:"div",J:F});F=L.url?L.url.O()||"":"";I={S:"div",RL:I,D:{tabindex:"0"},J:[{S:"a",RL:["iv-card-image","iv-click-target"],D:{style:"background-image: url("+
L.imageUrl+");",href:F,"aria-hidden":"true",tabindex:"-1"}},{S:"div",Y:"iv-card-content",J:[L.sponsored?{S:"div",Y:"iv-card-sponsored",J:["Lien commercial",{S:"div",Y:"iv-ad-info-container",J:[{S:"div",Y:"iv-ad-info",Py:"{{adInfo}}"},{S:"div",Y:"iv-ad-info-icon-container",J:[{S:"div",Y:"iv-ad-info-icon"},{S:"div",Y:"iv-ad-info-callout"}]}]}]}:"",{S:"a",Y:"iv-click-target",D:{href:F},J:[Pu("h2",v,L.title),R]}]}]};I=new g.f(I);v=g.HT("span");g.ep(v,"Vous voyez ce produit, car nous pensons qu'il est pertinent pour la vid\u00e9o. Il se peut que le marchand r\u00e9mun\u00e8re Google.");
I.setContent(v,"adInfo");mk(d,g.f_("iv-click-target",I.element),L,L.url);L=I;break;case "video":d=d.N0;I=L.isLiveNow?{S:"span",RL:["yt-badge","yt-badge-live"],Py:"EN DIRECT MAINTENANT"}:null;I={S:"div",RL:["iv-card","iv-card-video"],J:[{S:"a",Y:"iv-click-target",D:{href:L.url?.O()||""},J:[p6(L.Km,L.videoDuration?{S:"span",Y:"iv-card-video-duration",Py:L.videoDuration}:void 0),{S:"div",Y:"iv-card-content",J:[Gm(L),Pu("h2","iv-card-primary-link",L.title),ue(L),I]}]}]};I=new g.f(I);mk(d,g.f_("iv-click-target",
I.element),L,L.url);L=I;break;default:return null}return L},VU$=function(d,L){if(!g.ok(d.X.getRootNode(),"ytp-cards-teaser-shown")){if(d.O!==L){var I=g.Pf(),v=d.O?d.O.M_.po:d.po;
I&&v&&g.FJ(I,[v]);d.O=L;wa(d)}(I=d.isInitialized&&d.Ex().style.display=="none")||(I=d.context.X.getPlayerState(),v=I===0&&d.context.X.getCurrentTime()===0,I=!(I===1||I===3||v));I||L.M_.teaserDurationMs&&d.X.u0(!0,{teaserText:L.M_.teaserText,durationMs:L.M_.teaserDurationMs,onClickCommand:L.M_.onClickCommand,XZ:L.M_.XZ??null});d.q0.isActive()||((!d.G||!d.sU.isActive()&&d.bU)&&cc1(d,L),d.q0.start(910+L.M_.teaserDurationMs))}},X1x=function(d){return d.O?d.O.M_.type==="productListing":d.X.C("enable_wn_infocards")?
!!d.cards?.length&&g.VS(d.cards,L=>L.M_.type==="productListing"):g.VS(d.cards,L=>L.M_.type==="productListing")},cc1=function(d,L){d.U.Fa?(L=new DZ([0,
d.W.scrollTop],[0,L.nN.offsetTop],600,jbw),d.context.G.listen(L,"animate",I=>{d.W.scrollTop=I.y}),d.context.G.listen(L,"finish",I=>{d.W.scrollTop=I.y}),L.play()):(d.U.VN(!0),d.W.scrollTop=L.nN.offsetTop,d.U.VN(!1))},Y0=function(d){return d.O&&d.O.M_?d.O.M_:d.cards[0]&&d.cards[0].M_?d.cards[0].M_:null},LXj=function(d){const L=d.annotation.data;
"start_ms"in L&&"end_ms"in L&&d.addCueRange(Number(L.start_ms),Number(L.end_ms),d.annotation.id,()=>{d.show()},()=>{d.hide()})},IQH=function(d,L){var I=ycw(L).width;
g.Zq(L,I);I=new be(L,[I,L.offsetTop],[I-I,L.offsetTop],200,BjU);g.G(d,I);d.context.G.listen(I,"begin",()=>{g.d0(L,!0)});
I.play()},Si=function(d,L,I){I.stopPropagation();
vu9(d);FXw(d,L);d.O.focus()},Rx$=function(d){const L=d.annotation.data;
if(d.annotation.style==="cta")var I=6;else if(d.annotation.style==="video"||d.annotation.style==="playlist")I=7;d.K=L.collapsedelay_ms||d.K;const v=["iv-promo","iv-promo-inactive"];d.Ex().setAttribute("aria-hidden","true");d.Ex().setAttribute("aria-label","Promotion");d.Ex().tabIndex=0;const F=d.annotation.qB();let R;var D=L.image_url;D&&(R=d.createElement({S:"div",RL:["iv-promo-img","iv-click-target"]}),D=d.createElement({S:"img",D:{src:D,"aria-hidden":"true"}}),R.appendChild(D),L.video_duration&&
!L.is_live?(D=d.createElement({S:"span",Y:"iv-promo-video-duration",Py:L.video_duration}),R.appendChild(D)):L.playlist_length&&(D=d.createElement({S:"span",Y:"iv-promo-playlist-length",Py:L.playlist_length.toString()}),R.appendChild(D)),F&&zm(d,R,F,d.annotation.id,L.session_data,void 0,I));F?(D=d.createElement({S:"a",Y:"iv-promo-txt"}),g.NG(D,F.O()),d.O=D):d.O=d.createElement({S:"div",Y:"iv-promo-txt"});let O,b,H,n;switch(d.annotation.style){case "cta":case "website":O=d.createElement({S:"p",J:[{S:"strong",
Py:L.text_line_1}]});b=d.createElement({S:"p",J:[{S:"span",Y:"iv-promo-link",Py:L.text_line_2}]});if(D=L.text_line_3)v.push("iv-promo-website-card-cta-redesign"),H=d.createElement({S:"button",RL:["iv-promo-round-expand-icon","ytp-button"]}),D=d.createElement({S:"button",RL:["iv-button","iv-promo-button"],J:[{S:"span",Y:"iv-button-content",Py:D}]}),n=d.createElement({S:"div",Y:"iv-promo-button-container"}),n.appendChild(D),F&&zm(d,d.Ex(),F,d.annotation.id,L.session_data,void 0,I);g.yH(d.O,"iv-click-target");
F&&zm(d,d.O,F,d.annotation.id,L.session_data,void 0,I);break;case "playlist":case "video":O=d.createElement({S:"p",J:[{S:"span",Py:L.text_line_1}]}),b=d.createElement({S:"p",J:[{S:"strong",Py:L.text_line_2}]}),L.is_live&&(O=b,b=d.createElement({S:"span",RL:["yt-badge","iv-promo-badge-live"],Py:"EN DIRECT MAINTENANT"})),g.yH(d.O,"iv-click-target"),F&&zm(d,d.O,F,d.annotation.id,L.session_data,void 0,I),v.push("iv-promo-video")}O&&d.O.appendChild(O);b&&d.O.appendChild(b);d.B.appendChild(d.O);n&&d.B.appendChild(n);
I=d.createElement({S:"div",Y:"iv-promo-actions"});d.W=d.createElement({S:"button",RL:["iv-promo-expand","ytp-button"]});d.W.title="Agrandir";d.context.O.listen(d.W,"click",y=>{Si(d,5E3,y)});
I.appendChild(d.W);g.d0(d.W,!1);d.context.O.listen(d.Ex(),"mouseover",d.sU,d);d.context.O.listen(d.Ex(),"mouseout",d.N0,d);d.context.O.listen(d.Ex(),"touchend",y=>{Si(d,5E3,y)});
d.G=d.createElement({S:"button",RL:["iv-promo-close","ytp-button"]});d.G.title="Fermer";d.context.O.listen(d.G,"click",d.annotation.style==="cta"&&L.text_line_3?d.Z:d.md,d);I.appendChild(d.G);g.rI(d.Ex(),v);R&&(g.o0(d.Ex(),R),H&&R.appendChild(H));g.o0(d.Ex(),d.B);g.o0(d.Ex(),I)},Uo=function(d){d.N&&(g.er.clearTimeout(d.N),d.N=null)},vu9=function(d){d.L.stop();
d.isCollapsed&&(g.K7(d.Ex(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),d.isCollapsed=!1,d.O&&d.O.removeAttribute("aria-hidden"),g.d0(d.W,!1),g.d0(d.G,!0))},FXw=function(d,L){d.N||(d.N=g.Be(function(){Uo(this);
DG$(this)},L,d))},DG$=function(d){d.isCollapsed||d.j||d.N||(g.yH(d.Ex(),"iv-promo-collapsed"),d.isCollapsed=!0,d.L.start())},dG8=function(d,L,I){L&&(I?so(d,L.map(v=>g.YI(v,I))):so(d,L))},so=function(d,L,I,v){let F=1,R=void 0,D=-1;
if(I){let O=!1;R=()=>{F--;F||O||(clearTimeout(D),O=!0,I())};
D=setTimeout(()=>{O=!0;I()},1E3)}for(const O of L||[])F++,g.Vo(O,R);
v&&(F++,v!==0&&d.X.sendVideoStatsEngageEvent(v,R))},OrL=function(d){return d==="annotation-editor"||d==="live-dashboard"},br9=function(d){d.N&&(d.player.removeEventListener("videodatachange",d.N),d.N=null)},Hr$=function(d){d=d.createElement({S:"div",
RL:["annotation","annotation-type-custom"]});g.d0(d,!1);return d},le=function(d,L){var I=!1,v=L.getElementsByTagName("annotations");
if(v&&!(v.length<1)&&(v=v[0].getAttribute("itct"))){var F=g.Pf();if(F){var R=g.pL();R&&g.jh(g.M5)(void 0,F,R,[g.jS(v)])}}L=L.getElementsByTagName("annotation");for(v=0;v<L.length;v++){var D=nuH(d,L[v]);F=null;try{a:{if(!D){F=null;break a}var O=D.id;R=/.+/;const k=typeof O==="string"&&R!=null&&O!=null&&O.match(R)?O:"",W=t2(D.type,ouw),P=t2(D.style,y98),z=w1$(D.data),w=z.length!==0?JSON.parse(z):{};b:{var b=D.action;R=Yn9;if(b==null){var H=null;break b}if(g.pn(b)){D=[];for(const C of b){const S=R(C);
S&&D.push(S)}H=D;break b}const E=R(b);H=E?[E]:[]}R=H;F=k&&W?new r9$(k,W,P,R,w):null}}catch(k){}if(F)if(F.type==="branding"||F.type==="promotion"){R=d;D=F;var n=Hr$(R),y=null;switch(D.type){case "branding":if(R.player.V().qv)break;R.player.C("web_player_overlay_positioned_layout")?(n.setAttribute("data-overlay-order","11"),R.player.dS(n,4,!0)):R.W.element.appendChild(n);y=new kEc(n,q9(R),D);break;case "promotion":g.KH(R.player,n,4),y=new KX1(n,q9(R),D)}y&&y.Wy();if(R=y)g.G(d,R),d.K[F.id]=R}else if(F.type===
"card"||F.type==="drawer"){d.O||(d.O=exL(d),g.G(d,d.O));if(F.type==="card"){n=d.O;var r=(I=F)&&I.data&&I.data.card_type;F=I.data;if(r)switch(R=F.tracking||{},R={O1:R.impression,click:R.click,close:R.close,t8:R.teaser_impression,uD:R.teaser_click},D=F.tracking_params||{},y=null,r){case "collaborator":I={id:I.id,timestamp:F.timestamp||0,type:F.card_type,teaserText:F.teaser_text,teaserDurationMs:F.teaser_duration_ms,startMs:F.start_ms,autoOpen:F.auto_open||!1,sessionData:F.session_data||{},sponsored:F.sponsored||
!1,gW:R,FT:D.card?g.jS(D.card):null,pK:D.teaser?g.jS(D.teaser):null,po:D.icon?g.jS(D.icon):null,channelId:F.channel_id,customMessage:F.custom_message?F.custom_message:null,profileImageUrl:F.image_url,title:F.title,metaInfo:F.meta_info,url:A2({pause_on_navigation:F.pause_on_navigation,target:F.target||"new",value:F.url}),onClickCommand:null};C6(n,I);break;case "playlist":I={id:I.id,timestamp:F.timestamp||0,type:F.card_type,teaserText:F.teaser_text,teaserDurationMs:F.teaser_duration_ms,startMs:F.start_ms,
autoOpen:F.auto_open||!1,sessionData:F.session_data||{},sponsored:F.sponsored||!1,gW:R,FT:D.card?g.jS(D.card):null,pK:D.teaser?g.jS(D.teaser):null,po:D.icon?g.jS(D.icon):null,Km:F.image_url,playlistVideoCount:F.playlist_video_count,customMessage:F.custom_message?F.custom_message:null,title:F.title,metaInfo:F.meta_info,url:A2({pause_on_navigation:F.pause_on_navigation,target:F.target||"new",value:F.url}),onClickCommand:null};C6(n,I);break;case "productListing":F.signin_url&&(y=A2({target:"current",
value:F.signin_url}));r=[];const k=F.offers||[];for(let W=0;W<k.length;W++)r.push(new WXQ(g.r3(k[W].merchant),g.r3(k[W].price)));I={id:I.id,timestamp:F.timestamp||0,type:F.card_type,teaserText:F.teaser_text,teaserDurationMs:F.teaser_duration_ms,startMs:F.start_ms,autoOpen:F.auto_open||!1,sessionData:F.session_data||{},sponsored:F.sponsored||!1,gW:R,FT:D.card?g.jS(D.card):null,pK:D.teaser?g.jS(D.teaser):null,po:D.icon?g.jS(D.icon):null,imageUrl:F.image_url,displayDomain:F.display_domain?F.display_domain:
null,showLinkIcon:!!F.show_link_icon,qs:F.button_icon_url?F.button_icon_url:null,title:F.title,customMessage:F.custom_message?F.custom_message:null,url:A2({pause_on_navigation:F.pause_on_navigation,target:F.target||"new",value:F.url}),sKU:y,FeU:F.signin_title?F.signin_title:void 0,ya1:F.signin_message?F.signin_message:void 0,offers:r,onClickCommand:null};C6(n,I);break;case "simple":I={id:I.id,timestamp:F.timestamp||0,type:F.card_type,teaserText:F.teaser_text,teaserDurationMs:F.teaser_duration_ms,
startMs:F.start_ms,autoOpen:F.auto_open||!1,sessionData:F.session_data||{},sponsored:F.sponsored||!1,gW:R,FT:D.card?g.jS(D.card):null,pK:D.teaser?g.jS(D.teaser):null,po:D.icon?g.jS(D.icon):null,imageUrl:F.image_url,displayDomain:F.display_domain?F.display_domain:null,showLinkIcon:!!F.show_link_icon,qs:F.button_icon_url?F.button_icon_url:null,title:F.title,customMessage:F.custom_message?F.custom_message:null,url:A2({pause_on_navigation:F.pause_on_navigation,target:F.target||"new",value:F.url}),onClickCommand:null};
C6(n,I);break;case "video":I={id:I.id,timestamp:F.timestamp||0,type:F.card_type,teaserText:F.teaser_text,teaserDurationMs:F.teaser_duration_ms,startMs:F.start_ms,autoOpen:F.auto_open||!1,sessionData:F.session_data||{},sponsored:F.sponsored||!1,gW:R,FT:D.card?g.jS(D.card):null,pK:D.teaser?g.jS(D.teaser):null,po:D.icon?g.jS(D.icon):null,Km:F.image_url,videoDuration:F.video_duration||null,customMessage:F.custom_message?F.custom_message:null,title:F.title,metaInfo:F.meta_info,isLiveNow:!!F.is_live_now,
url:A2({pause_on_navigation:F.pause_on_navigation,target:F.target||"new",value:F.url}),onClickCommand:null},C6(n,I)}}else fHV(d.O,F);I=!0}}I&&(L6(d.player),d.U())},aQ$=function(d){const L=d.player.V();
d=d.player.getVideoData();return(L.annotationsLoadPolicy||d.annotationsLoadPolicy)===1&&!d.S4||L.Sj.get(d.videoId)||d.fG()||g.Yr(d)?!0:!1},BYx=function(d,L){L=!L.isCued()&&!L.O(1024);
d.W.VN(L);d.G.VN(L)},pZn=function(d,L){const I=L.videoId;
var v=R=>{var D=d.loadNumber;d.B=null;d.loaded&&d.loadNumber===D&&d.player.getVideoData().videoId===I&&(R=g.qE(R)&&R.responseXML?R.responseXML:null)&&(le(d,R),g.yH(d.player.getRootNode(),"iv-module-loaded"))};
g.uq()&&(v=j8w(d,v));const F={format:"XML",onFinish:v,onError:()=>{d.B=null},
urlParams:{}};L.isPharma&&(F.urlParams.pharma="1");F.method="POST";F.withCredentials=!0;(v=d.player.V().Sj.get(I))&&t$V(F,v);v=v&&v.w1;if(!L.WX||v)d.N=()=>{if(!d.Z)d.onVideoDataChange(F);const R=d.player.getVideoData();R?.BJ()&&!d.md&&A9$(d,R)},d.player.addEventListener("videodatachange",d.N)},ZZ=function(d,L){var I=!1;
d.O||(d.O=exL(d),g.G(d,d.O));for(var v of L.cards||[])v.cardRenderer&&(Tjb(d.O,v.cardRenderer),I=!0);I&&(d.player.getVideoData()?.BJ()||(I=d.O,v=L.headerText?g.ro(L.headerText):"",g.ep(I.Wx,v),I.L&&(I.X.C("player_tooltip_data_title_killswitch")?I.L.setAttribute("title",v):I.L.setAttribute("data-tooltip-title",v)),I.context.videoData.eventId&&(I.eventId=I.context.videoData.eventId),I.Sj=L.trackingParams?g.jS(L.trackingParams):null,I.j=L.closeButton.infoCardIconRenderer.trackingParams?g.jS(L.closeButton.infoCardIconRenderer.trackingParams):
null,I.po=L.icon.infoCardIconRenderer.trackingParams?g.jS(L.icon.infoCardIconRenderer.trackingParams):null,d.U()),L6(d.player))},A9$=function(d,L){if(L=L.getWatchNextResponse()?.cards?.cardCollectionRenderer)d.md=!0,ZZ(d,L),L.headerText&&d.DW&&(L=g.ro(L.headerText),d.player.C("player_tooltip_data_title_killswitch")?d.DW.setAttribute("title",L):d.DW.setAttribute("data-tooltip-title",L))},j8w=function(d,L){return(...I)=>{d.X2()||d.Wy.push(g.Qu.iB(()=>{L(...I)}))}},t$V=function(d,L){d.method="POST";
d.postParams=d.postParams||{};L.w1&&(d.postParams.ic_coll=L.w1);L.Bu&&(d.postParams.ic_track=L.Bu)},nuH=function(d,L){const I={};
for(var v of L.attributes)I[v.name]=v.nodeValue;for(v=0;v<L.childNodes.length;v++){var F=L.childNodes[v];if(!g.PB(F)||F.nodeType!=1)continue;var R=void 0;if(I[F.tagName])R=I[F.tagName];else if(F.tagName==="data"){F.childNodes.length>0&&(R=F.childNodes[0].nodeValue,I[F.tagName]=typeof R==="string"?R.trim():R);continue}else R=[],I[F.tagName]=R;F&&F.tagName==="TEXT"?F.childNodes.length===1&&F.childNodes[0].nodeType===3?R.push(F.childNodes[0].nodeValue):R.push(""):F&&R.push(nuH(d,F))}return I},q9=function(d){if(!d.j){const L=
new PmU(d);
g.G(d,L);const I=new g.W0(d);g.G(d,I);d.j=new GEw(L,I,d.player.V(),d.player.getVideoData(),d.logger,d.player,d.Yv)}return d.j},um8=function(d){const L=d.player.getVideoData();
if(L.El){var I=d.player.V().Sj.get(L.videoId);if(I){var v={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:(F,R,D)=>{F=d.loadNumber;R=L.videoId;d.loaded&&d.loadNumber===F&&d.player.getVideoData().videoId===R&&(D=g.qE(D)&&D.responseXML?D.responseXML:null)&&le(d,D)}};
g.uq()&&(v.onFinish=j8w(d,v.onFinish));v.postParams={ic_only:"1"};t$V(v,I);d.Z=!0;g.Lq(L.El,v)}}},exL=function(d){const L=new g.f({S:"div"});
g.d0(L.element,!1);const I=new mG1(d.player,L.element,q9(d));g.G(I,L);L.g2(d.W.element);I.Wy();return I},zx$=function(d,L,I,v,F){if(!d.player.V().qv){var R=[];
L.navigationEndpoint&&g.U(L.navigationEndpoint,g.IE)&&g.U(L.navigationEndpoint,g.IE).browseId&&R.push(new xx$("openUrl","click",new CLx(`/channel/${g.U(L.navigationEndpoint,g.IE).browseId}`,"new",!0,!0)));var D=L.watermark.thumbnails[0];v={channel_name:L.channelName,end_ms:L.endTimeMs,image_height:D.height,image_type:1,image_url:D.url,image_width:D.width,is_mobile:!1,session_data:{annotation_id:I,ei:F,feature:"iv",itct:L.trackingParams,src_vid:v},start_ms:L.startTimeMs};if(L.subscribeButton&&g.U(L.subscribeButton,
g.kr)){v.channel_id=g.U(L.subscribeButton,g.kr).channelId;L=g.U(L.subscribeButton,g.kr);D=F=null;L.subscribed?(L.subscriberCountWithUnsubscribeText&&(F=g.ro(L.subscriberCountWithUnsubscribeText)),L.subscriberCountText&&(D=g.ro(L.subscriberCountText))):(L.subscriberCountText&&(F=g.ro(L.subscriberCountText)),L.subscriberCountWithSubscribeText&&(D=g.ro(L.subscriberCountWithSubscribeText)));const O=g.U(L.signInEndpoint?.commandMetadata,g.RH)?.url||"";L={subscribeText:g.ro(L.unsubscribedButtonText),subscribeCount:F||
"",unsubscribeText:g.ro(L.subscribedButtonText),unsubscribeCount:D||"",enabled:L.enabled||!1,classic:!1,subscribed:L.subscribed||!1,feature:"iv",signInUrl:O};v.standalone_subscribe_button_data=L}R=new r9$(I,"branding","branding",R,v);v=Hr$(d);d.player.C("web_player_overlay_positioned_layout")?(v.setAttribute("data-overlay-order","11"),d.player.dS(v,4,!0)):d.W.element.appendChild(v);R=new kEc(v,q9(d),R);R.Wy();g.G(R,R);d.K[I]=R}};
g.QJ.prototype.u0=g.Ii(36,function(d,L){const I=g.G1(this.tq());I&&I.u0(d,L)});
var vu={},F6=null;g.J0(DZ,g.Wd);g.p=DZ.prototype;g.p.getDuration=function(){return this.duration};
g.p.play=function(d){if(d||this.O==0)this.progress=0,this.coords=this.W;else if(this.isPlaying())return!1;Rf(this);this.startTime=d=g.E$();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.N=this.startTime;this.progress||this.qV();this.hw("play");this.isPaused()&&this.hw("resume");this.O=1;const L=g.ud(this);L in vu||(vu[L]=this);K$$();e98(this,d);return!0};
g.p.stop=function(d){Rf(this);this.O=0;d&&(this.progress=1);W$$(this,this.progress);this.onStop();this.LL()};
g.p.pause=function(){this.isPlaying()&&(Rf(this),this.O=-1,this.hw("pause"))};
g.p.F2=function(){this.O==0||this.stop(!1);this.hw("destroy");DZ.Oi.F2.call(this)};
g.p.destroy=function(){this.dispose()};
g.p.b2=function(){this.hw("animate")};
g.p.hw=function(d){this.dispatchEvent(new aHU(d,this))};
g.J0(aHU,g.j2);g.J0(Oo,DZ);Oo.prototype.G=function(){};
Oo.prototype.b2=function(){this.G();Oo.Oi.b2.call(this)};
Oo.prototype.LL=function(){this.G();Oo.Oi.LL.call(this)};
Oo.prototype.qV=function(){this.G();Oo.Oi.qV.call(this)};
g.J0(be,Oo);be.prototype.G=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};var PmU=class extends g.IJ{constructor(d){super();this.W=d||window;this.O=[]}listen(d,L,I,v){I=(0,g.m7)(I,v||this.W);d=g.LX(d,L,I);this.O.push(d);return d}YZ(d,L,I,v){I=(0,g.m7)(I,v||this.W);d=rcw(d,L,I);this.O.push(d);return d}Ca(d){g.Iw(d);g.DH(this.O,d)}removeAll(){g.Iw(this.O);this.O.length=0}F2(){this.removeAll();super.F2()}};var Cmx=class extends g.WN{constructor(d){super(d);this.N=this.endscreen=null;this.W={};this.K={};this.L=this.G=null;this.j=[];this.O=null;this.md=!0;this.B=0;d=d.V();this.U=g.fT(d)||g.X3(d);this.events=new g.LN(this);g.G(this,this.events);this.events.A(this.player,g.WP("creatorendscreen"),this.onCueRangeEnter);this.events.A(this.player,g.ad("creatorendscreen"),this.onCueRangeExit);this.events.A(this.player,"resize",this.H5);this.events.A(window,"focus",this.Z);this.load();const L=g.HT("STYLE");(g.VW("HEAD")[0]||
document.body).appendChild(L);this.addOnDisposeCallback(()=>{g.kW(L)});
L.sheet&&(L.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),L.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))}load(){super.load();if(!yM(this)){var d=g.h6d(this.player.getVideoData());d?(d=of(d,Ac1(this)),ra(this,d,!1)):uQQ(this)}}unload(){ra(this,null);this.N&&(this.N.abort(),this.N=null);super.unload()}Wf(d,L){return yM(this)?d==="loadCustomEndscreenRenderer"?(d=of(L,"new"),ra(this,d),!0):null:null}getOptions(){return yM(this)?["loadCustomEndscreenRenderer"]:[]}H5(){if(this.endscreen&&this.endscreen.elements){var d=this.player.getVideoContentRect();if(d&&d.width!==0&&d.height!==0){var L=this.player.getPlayerSize();
if(L&&L.width!==0&&L.height!==0){var I=d.width/d.height;var v=0;var F=-1;for(var R=0;R<Eu8.length;R++){var D=Math.abs(L.width-Eu8[R]);if(F===-1||v>=D)F=R,v=D}v=hxn[F];this.G&&g.xW(this.G.element,"outline-width",Math.max(L.width,L.height)+"px");for(L=0;L<this.endscreen.elements.length;++L){R=this.endscreen.elements[L].id;F=this.W[R];D=this.K[R];if(!F||!D)continue;const b=D.width*I/D.aspectRatio;var O=Math.round(D.width*d.width);R=Math.round(b*d.height);const H=d.left+Math.round(D.left*d.width),n=d.top+
Math.round(D.top*d.height);g.gK(F.element,O,R);g.Zq(F.element,H,n);g.K7(F.element,wZb);O>256||R>256?g.yH(F.element,"ytp-ce-large-round"):O>96||R>96?g.yH(F.element,"ytp-ce-medium-round"):g.yH(F.element,"ytp-ce-small-round");g.K7(F.element,J9V);O=D.left+D.width/2;D=D.top+b/2;g.yH(F.element,O<=.5&&D<=.5?"ytp-ce-top-left-quad":O>.5&&D<=.5?"ytp-ce-top-right-quad":O<=.5&&D>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.K7(F.element,hxn);g.yH(F.element,v);(F=g.Tq(document,"div","ytp-ce-expanding-overlay-body",
F.element)[0])&&g.xW(F,"height",`${R}px`)}}}}}onCueRangeEnter(d){if(this.endscreen)if(d.getId()==="ytp-ce-in-endscreen")Bu(this,this.endscreen.impressionUrls),(d=g.Pf())&&this.endscreen.visualElement&&g.Ih(d,this.endscreen.visualElement),this.O&&(g.yH(this.O,"ytp-ce-element-show"),this.O.removeAttribute("aria-hidden"),this.player.FV()?g.yH(this.O,"ytp-ce-hide-button-lower"):g.kK(this.O,"ytp-ce-hide-button-lower"));else{d=d.getId().substring(15);var L=this.W[d],I=this.K[d];g.yH(L.element,"ytp-ce-element-show");
L.element.removeAttribute("aria-hidden");L=this.player.getRootNode();g.yH(L,"ytp-ce-shown");Bu(this,I.impressionUrls);(L=g.Pf())&&g.Ih(L,I.visualElement);this.player.V().j&&g.cg(this.player,"endscreenelementshown",d)}}onCueRangeExit(d){if(d.getId()==="ytp-ce-in-endscreen")this.O&&(g.kK(this.O,"ytp-ce-element-show"),this.O.setAttribute("aria-hidden","true"));else{d=d.getId().substring(15);var L=this.W[d];g.kK(L.element,"ytp-ce-element-show");L.element.setAttribute("aria-hidden","true");L=this.player.getRootNode();
g.kK(L,"ytp-ce-shown");this.player.V().j&&g.cg(this.player,"endscreenelementhidden",d)}}Z(d){d.target===window&&(new g.Rk(()=>{for(const L of Object.values(this.W))g.K7(L.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()}VN(d){for(const L of Object.values(this.W))d?L.element.setAttribute("hidden",""):L.element.removeAttribute("hidden")}AT(d){this.O&&this.player.getRootNode().removeChild(this.O);
d&&(g.yH(d,"ytp-ce-hide-button-container"),this.O=d,g.KH(this.player,this.O,4))}},Eu8=[346,426,470,506,570,640,853,1280,1920],hxn="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),J9V=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],wZb=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var CLx=class{constructor(d,L,I,v){this.value=d;this.target=L;this.showLinkIcon=I;this.W=v}O(){return this.value?this.value:null}},JcV={Za:"current",Pj:"new"};var xx$=class{constructor(d,L,I){this.type=d;this.trigger=L;this.url=I}},i8U={CLOSE:"close",gL:"openUrl",SUBSCRIBE:"subscribe"},$xQ={XQ:"click",CLOSE:"close",S9:"hidden",cUS:"rollOut",Xyj:"rollOver",T22:"shown"};var r9$=class{constructor(d,L,I,v,F){this.id=d;this.type=L;this.style=I;this.data=F;this.action=v||[]}qB(){const d=Sn$(this,L=>L.type==="openUrl"&&L.url!=null);
return d?d.url:null}},y98={CE:"anchored",bc:"branding",CHANNEL:"channel",UB:"cta",gN:"highlightText",Qs:"label",PLAYLIST:"playlist",POPUP:"popup",U0y:"speech",SUBSCRIBE:"subscribe",yqH:"title",VIDEO:"video",IuL:"website"},ouw={bc:"branding",nH:"card",E$:"drawer",xn:"highlight",Td:"marker",DB:"promotion",TEXT:"text",bad:"widget"};var irU=[".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}"],
$GH=[".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}"];var xG$=class{constructor(d,L){this.context=d;this.O=L}};var WXQ=class{constructor(d,L){this.merchant=d;this.price=L}};var YK$=class extends g.IJ{constructor(d,L){super();this.element=d;this.context=L;this.ZH=!1;this.By=new Map;this.jj=new Map;this.context.X.addEventListener(g.WP("annotations_module"),I=>{(I=this.By.get(I))&&I.apply(this)});
this.context.X.addEventListener(g.ad("annotations_module"),I=>{(I=this.jj.get(I))&&I.apply(this)})}addCueRange(d,L,I,v,F){d=new g.GO(d,L,{id:I,
namespace:"annotations_module"});v&&this.By.set(d,v);F&&this.jj.set(d,F);this.context.X.sH([d],1)}Wy(){this.context.W.subscribe("resize",this.L1,this)}Ex(){return this.element}M0(d,L,I,v,F,R){if(this.ZH)return!1;R&&(R.stopPropagation(),R.preventDefault());this.navigate(d,I,v,F);return!1}show(){}hide(){}destroy(){g.kW(this.Ex())}L1(){}navigate(d,L,I,v){const F=d.O();if(F){var R=qnc(F,d.target),D=()=>{d.W&&this.context.X.pauseVideo();const O=this.context.videoData.FI||!1,b=g.m1(F||"");O&&b&&(b.v||b.list)?
this.context.X.Vf(b.v,L,b.list,!1):g.vE(F||"",R==="current"?"_top":void 0,L)};
R==="new"&&(D(),D=null);so(this.context.logger,I,D,v);sbj(F)||(I=g.Pf(),v=L.itct,I&&v&&g.Rh(I,g.jS(v)))}}F2(){this.By.clear();this.jj.clear();super.F2()}createElement(d){d=new g.f(d);g.G(this,d);return d.element}};var mG1=class extends YK${constructor(d,L,I){super(L,I);this.X=d;this.eventId=null;this.Px=this.bU=this.CX=this.G=this.isInitialized=!1;this.cards=[];this.ej=this.L=this.tU=this.K=this.K1=this.O=null;this.md=[];this.Z=this.j=this.po=this.Sj=null;this.B=0;this.sU=new g.Rk(()=>{},I.Hy.EK?4E3:3E3);
g.G(this,this.sU);this.q0=new g.Rk(()=>{});
g.G(this,this.q0);this.N0=new xG$(I,(v,F,R,D,O,b)=>{zm(this,v,F,R,D,O,b)});
this.U=new g.f({S:"div",Y:"iv-drawer",D:{id:"iv-drawer"},J:[{S:"div",Y:"iv-drawer-header",D:{"aria-role":"heading"},J:[{S:"span",Y:"iv-drawer-header-text"},{S:"button",RL:["iv-drawer-close-button","ytp-button"],D:{"aria-label":"Masquer les fiches",tabindex:"0"}}]},{S:"div",Y:"iv-drawer-content"}]});g.G(this,this.U);this.N=this.U.element;this.IL=new g.G2(this.U,330);g.G(this,this.IL);this.Wx=g.g3("iv-drawer-header-text",this.N);this.W=g.g3("iv-drawer-content",this.N);this.addCueRange(0,I.videoData.lengthSeconds*
1E3,"",()=>{this.CX&&J2(this,"YOUTUBE_DRAWER_AUTO_OPEN")},()=>{(this.CX=this.G)&&ie(this)});
this.aL=new g.LN(this);g.G(this,this.aL);this.X.addEventListener("videodatachange",this.bZ.bind(this))}bZ(){this.Z&&C6(this,this.Z)}isAvailable(){var d;if(d=!!this.cards.length)(d=this.X.getRootNode())?(d=g.Xt(d),d=173<d.width&&173<d.height):d=!1;return d}L1(){const d=this.isAvailable();g.d0(this.Ex(),d);g.h(this.context.X.getRootNode(),g.Tb.IV_DRAWER_ENABLED,d);L6(this.X)}destroy(){this.X.u0(!1);try{this.X.getRootNode().removeChild(this.N)}catch(d){}g.nf(this.md);this.aL.W();this.K1&&this.K1.dispose();
this.K&&this.K.dispose();super.destroy()}Iy(){this.context.O.listen(g.g3("iv-drawer-close-button",this.N),"click",this.TO,this);this.context.O.listen(this.W,"touchend",()=>{this.sU.start()});
this.context.O.listen(this.W,"scroll",this.Du,this);this.context.W.subscribe("onHideControls",()=>{this.bU=!0});
this.context.W.subscribe("onShowControls",()=>{this.bU=!1});
this.context.W.subscribe("onVideoAreaChange",()=>{this.bU=g.ok(this.X.getRootNode(),"ytp-autohide")});
this.md.push(g.Hr("iv-button-shown",this.Zu,this));this.md.push(g.Hr("iv-button-hidden",this.qv,this));Qbn(this)}findLastIndex(d){if(this.cards.length===0)return 0;const L=g.XO(this.cards,I=>d.M_.startMs>I.M_.startMs||d.M_.startMs===I.M_.startMs&&d.M_.timestamp>=I.M_.timestamp?!0:!1);
return L===-1?0:L+1}TO(){if(this.G){so(this.context.logger,Y0(this).gW.close);var d=g.Pf();d&&this.j&&g.Rh(d,this.j);ie(this)}}Du(){g.h(this.N,"iv-drawer-scrolled",this.W.scrollTop>0)}Zu(){const d=g.Pf();var L=Y0(this);L=L?L.po:this.po;d&&L&&g.vO(d,[L])}qv(){const d=g.Pf();var L=Y0(this);L=L?L.po:this.po;d&&L&&g.FJ(d,[L])}YF(){const d=Y0(this);so(this.context.logger,d.gW.t8);const L=g.Pf();if(L&&d)if(this.X.C("web_infocards_teaser_show_logging_fix")){const I=[];d.pK&&I.push(d.pK);d.po&&I.push(d.po);
I.length>0&&g.vO(L,I)}else g.vO(L,[d.pK,d.po])}La(){const d=g.Pf(),L=Y0(this);d&&L&&g.FJ(d,[L.pK])}Sl(d){const L=Y0(this),I=g.Pf();this.O?d?(d=this.context.logger,so(d,L.gW.uD),d.X.sendVideoStatsEngageEvent(4,void 0),I&&L.pK&&g.Rh(I,L.pK)):(d=this.context.logger,so(d,L.gW.uD),d.X.sendVideoStatsEngageEvent(4,void 0),I&&L.po&&g.Rh(I,L.po)):(d=this.context.logger,so(d,L.gW.uD),d.X.sendVideoStatsEngageEvent(4,void 0),I&&this.po&&g.Rh(I,this.po))}};var SKb=class extends YK${constructor(d,L,I){super(d,L);this.annotation=I;this.isActive=!1}Wy(){super.Wy();LXj(this)}show(){super.show();const d=g.Pf();var L=this.annotation.data;d&&L&&(L=L.session_data)&&g.vO(d,[g.jS(L.itct)])}hide(){super.hide();const d=g.Pf();var L=this.annotation.data;d&&L&&(L=L.session_data)&&g.FJ(d,[g.jS(L.itct)])}};var kEc=class extends SKb{constructor(d,L,I){super(d,L,I);this.O=null;this.G=!1;this.W=null}show(){if(!this.isActive){super.show();if(!this.G){g.yH(this.Ex(),"iv-branding");const d=this.annotation.data;this.O=this.createElement({S:"img",RL:["branding-img","iv-click-target"],D:{"aria-label":"Filigrane de cha\u00eene",src:d.image_url,width:d.image_width,height:d.image_height}});g.d0(this.O,!1);const L=this.createElement({S:"button",RL:["branding-img-container","ytp-button"]});L.appendChild(this.O);
this.Ex().appendChild(L);const I=this.annotation.qB();I&&zm(this,L,I,this.annotation.id,d.session_data);this.G=!0}g.d0(this.Ex(),!0);this.isActive=!0;if(this.O){try{IQH(this,this.O)}catch{}g.yH(this.context.X.getRootNode(),"ytp-branding-shown");this.context.X.getRootNode().style.setProperty("--branding-image-width",`${this.O.getAttribute("width")}px`)}}}hide(){this.isActive&&(super.hide(),g.d0(this.Ex(),!1),this.isActive=!1,g.kK(this.context.X.getRootNode(),"ytp-branding-shown"))}destroy(){this.W&&
(this.W.dispose(),this.W=null);g.kK(this.context.X.getRootNode(),"ytp-branding-shown");super.destroy()}};var GEw=class{constructor(d,L,I,v,F,R,D){this.O=d;this.G=L;this.Hy=I;this.videoData=v;this.logger=F;this.X=R;this.W=D}};var KX1=class extends SKb{constructor(d,L,I){super(d,L,I);this.j=this.isCollapsed=this.U=!1;this.K=5E3;this.W=this.G=this.O=this.N=null;this.B=this.createElement({S:"div",RL:["iv-promo-contents"]});this.L=new g.Rk(()=>{this.O.setAttribute("aria-hidden","true");g.d0(this.G,!1);g.d0(this.W,!0)},700,this);
g.G(this,this.L)}show(){this.isActive||(super.show(),this.U||(Rx$(this),this.U=!0),g.d0(this.Ex(),!0),g.Be(function(){g.kK(this.Ex(),"iv-promo-inactive")},100,this),this.Ex().removeAttribute("aria-hidden"),this.isActive=!0,Uo(this),vu9(this),FXw(this,this.K))}hide(){this.isActive&&(g.yH(this.Ex(),"iv-promo-inactive"),this.isActive=!1,this.Ex().setAttribute("aria-hidden","true"))}M0(d,L,I,v,F,R){return this.isCollapsed?!1:super.M0(d,L,I,v,F,R)}sU(d){this.j=!0;
Si(this,500,d)}N0(){this.j=!1;DG$(this)}md(d){d.stopPropagation();this.hide()}Z(d){d.stopPropagation();Uo(this);this.isCollapsed=!0;g.yH(this.Ex(),"iv-promo-collapsed-no-delay");this.L.start()}destroy(){this.L.dispose();super.destroy()}};var UGb=class{constructor(d){this.X=d}};g.au("annotations_module",class extends g.WN{constructor(d){super(d);this.md=this.Z=!1;this.loadNumber=0;this.K={};this.logger=new UGb(this.player);this.L=new g.LN(this);this.B=this.N=null;this.events=new g.LN(this);this.DW=this.j=this.O=null;this.Wy=[];g.G(this,this.L);this.L.A(this.player,"onVideoAreaChange",()=>{this.publish("onVideoAreaChange")});
this.L.A(this.player,"onHideControls",()=>{this.publish("onHideControls")});
this.L.A(this.player,"onShowControls",()=>{this.publish("onShowControls")});
this.L.A(this.player,"resize",I=>{this.publish("resize",I)});
this.L.A(this.player,"presentingplayerstatechange",I=>{this.publish("presentingplayerstatechange",I)});
this.subscribe("presentingplayerstatechange",this.sU,this);this.subscribe("resize",this.U,this);this.player.V().Sj.subscribe("vast_info_card_add",this.N0,this);g.G(this,this.events);this.L1=this.createElement({S:"div",Y:"video-custom-annotations"});this.W=new g.f({S:"div",RL:["ytp-player-content","ytp-iv-player-content"]});g.G(this,this.W);g.KH(this.player,this.W.element,4);this.W.hide();this.G=new g.f({S:"div",RL:["ytp-iv-video-content"]});g.G(this,this.G);d=this.createElement({S:"div",Y:"video-annotations"});
d.appendChild(this.L1);this.G.element.appendChild(d);this.qL()?this.load():this.player.C("web_fix_annotations")&&(this.N=()=>{this.loaded||this.X2()||!this.qL()||(br9(this),this.load())},this.player.addEventListener("videodatachange",this.N));
const L=this.createElement({S:"style"});(g.VW("HEAD")[0]||document.body).appendChild(L);this.addOnDisposeCallback(()=>{g.kW(L)});
if(d=L.sheet){for(const I of irU)d.insertRule(I,0);for(const I of $GH)d.insertRule(I,0)}}Wf(d,L){if(!OrL(this.player.V().playerStyle))return null;switch(d){case "loadCustomAnnotationsXml":return(d=g.Ij(L))&&le(this,d),!0;case "removeCustomAnnotationById":return L&&this.O&&(h2(this.O,L),L6(this.player)),!0}return null}getOptions(){return OrL(this.player.V().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]}qL(){const d=this.player.getVideoData(),L=d.getWatchNextResponse()?.playerOverlays?.playerOverlayRenderer;
return d.FI||this.player.isMutedByEmbedsMutedAutoplay()?!1:this.player.C("web_fix_annotations")?aQ$(this)?L?.isWatermarkEnforced===!0?!0:L?.isAnnotationsEnabled??!1:!1:aQ$(this)}U(){if(this.G){var d=this.player.hU().getVideoContentRect(!0);g.gK(this.G.element,d.width,d.height);g.Zq(this.G.element,d.left,d.top)}if(this.O){var L=this.player.RP();d=this.O;L=L.width;g.h(d.N,"iv-drawer-small",L<=426);g.h(d.N,"iv-drawer-big",L>=1280)}}sU(d){BYx(this,d.state);d.state.O(2)&&(this.FV()&&this.yU()&&this.player.getPresentingPlayerType()!==
2&&this.kD(!1),this.u0(!1))}load(){super.load();BYx(this,this.player.getPlayerStateObject());this.loadNumber++;const d=this.player.getVideoData();pZn(this,d);g.KH(this.player,this.G.element,4);this.U();var L=g.Yr(d);const I=d.fG();if(this.player.C("web_fix_annotations")){if(L&&(L.featuredChannel&&zx$(this,L.featuredChannel,L.annotationId||"branding",d.videoId||null,d.eventId||null),L=this.player.getVideoData().getWatchNextResponse()?.playerOverlays?.playerOverlayRenderer,L?.isWatermarkEnforced&&!L?.isAnnotationsEnabled))return;
I&&ZZ(this,I)}else I&&ZZ(this,I),L&&L.featuredChannel&&zx$(this,L.featuredChannel,L.annotationId||"branding",d.videoId||null,d.eventId||null);this.DW=g.g3("ytp-cards-button",this.player.getRootNode());d.BJ()&&A9$(this,d)}onVideoDataChange(){}unload(){this.player.Ba("annotations_module");for(const d of Object.keys(this.K))this.K[d].destroy();this.j=null;this.O&&(this.O.destroy(),this.O=null,L6(this.player));this.Z=!1;this.B&&(this.B.abort(),this.B=null);this.md=!1;this.K={};this.W.hide();super.unload();
this.G.detach();br9(this)}N0(d){d===this.player.getVideoData().videoId&&(this.loaded?um8(this):this.load())}FV(){return this.O?.isAvailable()||this.md}yU(){return!!this.O&&this.O.G}kD(d,L=!1,I){this.FV();this.O&&(d?I?J2(this.O,I,L):J2(this.O,"YOUTUBE_DRAWER_AUTO_OPEN",L):ie(this.O))}u0(d,L){this.player.publish(d?"cardsteasershow":"cardsteaserhide",L)}F2(){this.player.V().Sj.unsubscribe("vast_info_card_add",this.N0,this);g.kK(this.player.getRootNode(),g.Tb.IV_DRAWER_OPEN);var d=this.Wy,L=g.Qu;for(let I=
0,v=d.length;I<v;I++)L.sY(d[I]);this.Wy.length=0;super.F2()}createElement(d){d=new g.f(d);g.G(this,d);return d.element}});g.au("creatorendscreen",Cmx);})(_yt_player);
